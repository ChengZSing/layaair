var PathFind=function(i){function t(){this._meshTerrainSprite3D=null,this._finder=null,this._setting=null,this.grid=null,t.__super.call(this)}__class(t,"laya.d3.component.PathFind",!1,i);var e=t.prototype;return e._load=function(t){if(!(t instanceof laya.d3.core.MeshTerrainSprite3D))throw new Error("PathFinding: The owner must MeshTerrainSprite3D!");i.prototype._load.call(this,t),this._meshTerrainSprite3D=t},e.findPath=function(t,i,e,r){var n=this._meshTerrainSprite3D.minX,h=this._meshTerrainSprite3D.minZ,s=this._meshTerrainSprite3D.width/this.grid.width,a=this._meshTerrainSprite3D.depth/this.grid.height,o=s/2,d=a/2,l=Math.floor((t-n)/s),f=Math.floor((i-h)/a),_=Math.floor((e-n)/s),g=Math.floor((r-h)/a),u=this.grid.width-1,p=this.grid.height-1;u<l&&(l=u),p<f&&(f=p),l<0&&(l=0),f<0&&(f=0),u<_&&(_=u),p<g&&(g=p),_<0&&(_=0),g<0&&(g=0);var c=this._finder.findPath(l,f,_,g,this.grid);this.grid.reset();for(var m=1;m<c.length-1;m++){var v=c[m];v[0]=v[0]*s+o+n,v[1]=v[1]*a+d+h}return 1==c.length?(c[0][0]=e,c[0][1]=e):1<c.length&&(c[0][0]=t,c[0][1]=i,c[c.length-1][0]=e,c[c.length-1][1]=r),c},__getset(0,e,"setting",function(){return this._setting},function(t){t&&(this._finder=new PathFinding.finders.AStarFinder(t)),this._setting=t}),t}(Component3D);"function"==typeof define&&define.amd&&define("laya.core",["require","exports"],function(t,i){"use strict";for(var e in Object.defineProperty(i,"__esModule",{value:!0}),Laya){var r=Laya[e];r&&r.__isclass&&(i[e]=r)}});